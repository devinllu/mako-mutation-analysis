<html><body><h1>mako/ext/extract.py</h1>Killed 0 out of 65 mutants<h2>Survived</h2>Survived mutation testing. These mutants show holes in your test suite.<h3>Mutant 3161</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -14,7 +14,7 @@
 class MessageExtractor(object):
     def process_file(self, fileobj):
         template_node = lexer.Lexer(
-            fileobj.read(), input_encoding=self.config["encoding"]
+            fileobj.read(), input_encoding=self.config["XXencodingXX"]
         ).parse()
         for extracted in self.extract_nodes(template_node.get_children()):
             yield extracted
</pre><h3>Mutant 3162</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -13,9 +13,7 @@
 
 class MessageExtractor(object):
     def process_file(self, fileobj):
-        template_node = lexer.Lexer(
-            fileobj.read(), input_encoding=self.config["encoding"]
-        ).parse()
+        template_node = None
         for extracted in self.extract_nodes(template_node.get_children()):
             yield extracted
 
</pre><h3>Mutant 3163</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -20,7 +20,7 @@
             yield extracted
 
     def extract_nodes(self, nodes):
-        translator_comments = []
+        translator_comments = None
         in_translator_comments = False
         input_encoding = self.config["encoding"] or "ascii"
         comment_tags = list(
</pre><h3>Mutant 3164</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -21,7 +21,7 @@
 
     def extract_nodes(self, nodes):
         translator_comments = []
-        in_translator_comments = False
+        in_translator_comments = True
         input_encoding = self.config["encoding"] or "ascii"
         comment_tags = list(
             filter(None, re.split(r"\s+", self.config["comment-tags"]))
</pre><h3>Mutant 3165</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -21,7 +21,7 @@
 
     def extract_nodes(self, nodes):
         translator_comments = []
-        in_translator_comments = False
+        in_translator_comments = None
         input_encoding = self.config["encoding"] or "ascii"
         comment_tags = list(
             filter(None, re.split(r"\s+", self.config["comment-tags"]))
</pre><h3>Mutant 3166</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -22,7 +22,7 @@
     def extract_nodes(self, nodes):
         translator_comments = []
         in_translator_comments = False
-        input_encoding = self.config["encoding"] or "ascii"
+        input_encoding = self.config["XXencodingXX"] or "ascii"
         comment_tags = list(
             filter(None, re.split(r"\s+", self.config["comment-tags"]))
         )
</pre><h3>Mutant 3167</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -22,7 +22,7 @@
     def extract_nodes(self, nodes):
         translator_comments = []
         in_translator_comments = False
-        input_encoding = self.config["encoding"] or "ascii"
+        input_encoding = self.config["encoding"] or "XXasciiXX"
         comment_tags = list(
             filter(None, re.split(r"\s+", self.config["comment-tags"]))
         )
</pre><h3>Mutant 3168</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -22,7 +22,7 @@
     def extract_nodes(self, nodes):
         translator_comments = []
         in_translator_comments = False
-        input_encoding = self.config["encoding"] or "ascii"
+        input_encoding = self.config["encoding"] and "ascii"
         comment_tags = list(
             filter(None, re.split(r"\s+", self.config["comment-tags"]))
         )
</pre><h3>Mutant 3169</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -22,7 +22,7 @@
     def extract_nodes(self, nodes):
         translator_comments = []
         in_translator_comments = False
-        input_encoding = self.config["encoding"] or "ascii"
+        input_encoding = None
         comment_tags = list(
             filter(None, re.split(r"\s+", self.config["comment-tags"]))
         )
</pre><h3>Mutant 3170</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -24,7 +24,7 @@
         in_translator_comments = False
         input_encoding = self.config["encoding"] or "ascii"
         comment_tags = list(
-            filter(None, re.split(r"\s+", self.config["comment-tags"]))
+            filter(None, re.split(r"XX\s+XX", self.config["comment-tags"]))
         )
 
         for node in nodes:
</pre><h3>Mutant 3171</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -24,7 +24,7 @@
         in_translator_comments = False
         input_encoding = self.config["encoding"] or "ascii"
         comment_tags = list(
-            filter(None, re.split(r"\s+", self.config["comment-tags"]))
+            filter(None, re.split(r"\s+", self.config["XXcomment-tagsXX"]))
         )
 
         for node in nodes:
</pre><h3>Mutant 3172</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -23,9 +23,7 @@
         translator_comments = []
         in_translator_comments = False
         input_encoding = self.config["encoding"] or "ascii"
-        comment_tags = list(
-            filter(None, re.split(r"\s+", self.config["comment-tags"]))
-        )
+        comment_tags = None
 
         for node in nodes:
             child_nodes = None
</pre><h3>Mutant 3173</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -28,7 +28,7 @@
         )
 
         for node in nodes:
-            child_nodes = None
+            child_nodes = ""
             if (
                 in_translator_comments
                 and isinstance(node, parsetree.Text)
</pre><h3>Mutant 3174</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -32,7 +32,7 @@
             if (
                 in_translator_comments
                 and isinstance(node, parsetree.Text)
-                and not node.content.strip()
+                and  node.content.strip()
             ):
                 # Ignore whitespace within translator comments
                 continue
</pre><h3>Mutant 3175</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -30,8 +30,7 @@
         for node in nodes:
             child_nodes = None
             if (
-                in_translator_comments
-                and isinstance(node, parsetree.Text)
+                in_translator_comments or isinstance(node, parsetree.Text)
                 and not node.content.strip()
             ):
                 # Ignore whitespace within translator comments
</pre><h3>Mutant 3176</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -35,7 +35,7 @@
                 and not node.content.strip()
             ):
                 # Ignore whitespace within translator comments
-                continue
+                break
 
             if isinstance(node, parsetree.Comment):
                 value = node.text.strip()
</pre><h3>Mutant 3177</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -38,7 +38,7 @@
                 continue
 
             if isinstance(node, parsetree.Comment):
-                value = node.text.strip()
+                value = None
                 if in_translator_comments:
                     translator_comments.extend(
                         self._split_comment(node.lineno, value)
</pre><h3>Mutant 3178</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -43,7 +43,7 @@
                     translator_comments.extend(
                         self._split_comment(node.lineno, value)
                     )
-                    continue
+                    break
                 for comment_tag in comment_tags:
                     if value.startswith(comment_tag):
                         in_translator_comments = True
</pre><h3>Mutant 3179</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -46,7 +46,7 @@
                     continue
                 for comment_tag in comment_tags:
                     if value.startswith(comment_tag):
-                        in_translator_comments = True
+                        in_translator_comments = False
                         translator_comments.extend(
                             self._split_comment(node.lineno, value)
                         )
</pre><h3>Mutant 3180</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -46,7 +46,7 @@
                     continue
                 for comment_tag in comment_tags:
                     if value.startswith(comment_tag):
-                        in_translator_comments = True
+                        in_translator_comments = None
                         translator_comments.extend(
                             self._split_comment(node.lineno, value)
                         )
</pre><h3>Mutant 3181</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -50,7 +50,7 @@
                         translator_comments.extend(
                             self._split_comment(node.lineno, value)
                         )
-                continue
+                break
 
             if isinstance(node, parsetree.DefTag):
                 code = node.function_decl.code
</pre><h3>Mutant 3182</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -53,7 +53,7 @@
                 continue
 
             if isinstance(node, parsetree.DefTag):
-                code = node.function_decl.code
+                code = None
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.BlockTag):
                 code = node.body_decl.code
</pre><h3>Mutant 3183</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -54,7 +54,7 @@
 
             if isinstance(node, parsetree.DefTag):
                 code = node.function_decl.code
-                child_nodes = node.nodes
+                child_nodes = None
             elif isinstance(node, parsetree.BlockTag):
                 code = node.body_decl.code
                 child_nodes = node.nodes
</pre><h3>Mutant 3184</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -56,7 +56,7 @@
                 code = node.function_decl.code
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.BlockTag):
-                code = node.body_decl.code
+                code = None
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.CallTag):
                 code = node.code.code
</pre><h3>Mutant 3185</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -57,7 +57,7 @@
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.BlockTag):
                 code = node.body_decl.code
-                child_nodes = node.nodes
+                child_nodes = None
             elif isinstance(node, parsetree.CallTag):
                 code = node.code.code
                 child_nodes = node.nodes
</pre><h3>Mutant 3186</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -59,7 +59,7 @@
                 code = node.body_decl.code
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.CallTag):
-                code = node.code.code
+                code = None
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.PageTag):
                 code = node.body_decl.code
</pre><h3>Mutant 3187</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -60,7 +60,7 @@
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.CallTag):
                 code = node.code.code
-                child_nodes = node.nodes
+                child_nodes = None
             elif isinstance(node, parsetree.PageTag):
                 code = node.body_decl.code
             elif isinstance(node, parsetree.CallNamespaceTag):
</pre><h3>Mutant 3188</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -62,7 +62,7 @@
                 code = node.code.code
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.PageTag):
-                code = node.body_decl.code
+                code = None
             elif isinstance(node, parsetree.CallNamespaceTag):
                 code = node.expression
                 child_nodes = node.nodes
</pre><h3>Mutant 3189</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -64,7 +64,7 @@
             elif isinstance(node, parsetree.PageTag):
                 code = node.body_decl.code
             elif isinstance(node, parsetree.CallNamespaceTag):
-                code = node.expression
+                code = None
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.ControlLine):
                 if node.isend:
</pre><h3>Mutant 3190</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -65,7 +65,7 @@
                 code = node.body_decl.code
             elif isinstance(node, parsetree.CallNamespaceTag):
                 code = node.expression
-                child_nodes = node.nodes
+                child_nodes = None
             elif isinstance(node, parsetree.ControlLine):
                 if node.isend:
                     in_translator_comments = False
</pre><h3>Mutant 3191</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -68,7 +68,7 @@
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.ControlLine):
                 if node.isend:
-                    in_translator_comments = False
+                    in_translator_comments = True
                     continue
                 code = node.text
             elif isinstance(node, parsetree.Code):
</pre><h3>Mutant 3192</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -68,7 +68,7 @@
                 child_nodes = node.nodes
             elif isinstance(node, parsetree.ControlLine):
                 if node.isend:
-                    in_translator_comments = False
+                    in_translator_comments = None
                     continue
                 code = node.text
             elif isinstance(node, parsetree.Code):
</pre><h3>Mutant 3193</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -69,7 +69,7 @@
             elif isinstance(node, parsetree.ControlLine):
                 if node.isend:
                     in_translator_comments = False
-                    continue
+                    break
                 code = node.text
             elif isinstance(node, parsetree.Code):
                 in_translator_comments = False
</pre><h3>Mutant 3194</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -70,7 +70,7 @@
                 if node.isend:
                     in_translator_comments = False
                     continue
-                code = node.text
+                code = None
             elif isinstance(node, parsetree.Code):
                 in_translator_comments = False
                 code = node.code.code
</pre><h3>Mutant 3195</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -72,7 +72,7 @@
                     continue
                 code = node.text
             elif isinstance(node, parsetree.Code):
-                in_translator_comments = False
+                in_translator_comments = True
                 code = node.code.code
             elif isinstance(node, parsetree.Expression):
                 code = node.code.code
</pre><h3>Mutant 3196</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -72,7 +72,7 @@
                     continue
                 code = node.text
             elif isinstance(node, parsetree.Code):
-                in_translator_comments = False
+                in_translator_comments = None
                 code = node.code.code
             elif isinstance(node, parsetree.Expression):
                 code = node.code.code
</pre><h3>Mutant 3197</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -73,7 +73,7 @@
                 code = node.text
             elif isinstance(node, parsetree.Code):
                 in_translator_comments = False
-                code = node.code.code
+                code = None
             elif isinstance(node, parsetree.Expression):
                 code = node.code.code
             else:
</pre><h3>Mutant 3198</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -75,7 +75,7 @@
                 in_translator_comments = False
                 code = node.code.code
             elif isinstance(node, parsetree.Expression):
-                code = node.code.code
+                code = None
             else:
                 continue
 
</pre><h3>Mutant 3199</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -77,7 +77,7 @@
             elif isinstance(node, parsetree.Expression):
                 code = node.code.code
             else:
-                continue
+                break
 
             # Comments don't apply unless they immediately precede the message
             if (
</pre><h3>Mutant 3200</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -82,7 +82,7 @@
             # Comments don't apply unless they immediately precede the message
             if (
                 translator_comments
-                and translator_comments[-1][0] < node.lineno - 1
+                and translator_comments[+1][0] < node.lineno - 1
             ):
                 translator_comments = []
 
</pre><h3>Mutant 3201</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -82,7 +82,7 @@
             # Comments don't apply unless they immediately precede the message
             if (
                 translator_comments
-                and translator_comments[-1][0] < node.lineno - 1
+                and translator_comments[-2][0] < node.lineno - 1
             ):
                 translator_comments = []
 
</pre><h3>Mutant 3202</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -82,7 +82,7 @@
             # Comments don't apply unless they immediately precede the message
             if (
                 translator_comments
-                and translator_comments[-1][0] < node.lineno - 1
+                and translator_comments[-1][1] < node.lineno - 1
             ):
                 translator_comments = []
 
</pre><h3>Mutant 3203</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -82,7 +82,7 @@
             # Comments don't apply unless they immediately precede the message
             if (
                 translator_comments
-                and translator_comments[-1][0] < node.lineno - 1
+                and translator_comments[-1][0] <= node.lineno - 1
             ):
                 translator_comments = []
 
</pre><h3>Mutant 3204</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -82,7 +82,7 @@
             # Comments don't apply unless they immediately precede the message
             if (
                 translator_comments
-                and translator_comments[-1][0] < node.lineno - 1
+                and translator_comments[-1][0] < node.lineno + 1
             ):
                 translator_comments = []
 
</pre><h3>Mutant 3205</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -82,7 +82,7 @@
             # Comments don't apply unless they immediately precede the message
             if (
                 translator_comments
-                and translator_comments[-1][0] < node.lineno - 1
+                and translator_comments[-1][0] < node.lineno - 2
             ):
                 translator_comments = []
 
</pre><h3>Mutant 3206</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -81,8 +81,7 @@
 
             # Comments don't apply unless they immediately precede the message
             if (
-                translator_comments
-                and translator_comments[-1][0] < node.lineno - 1
+                translator_comments or translator_comments[-1][0] < node.lineno - 1
             ):
                 translator_comments = []
 
</pre><h3>Mutant 3207</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -84,7 +84,7 @@
                 translator_comments
                 and translator_comments[-1][0] < node.lineno - 1
             ):
-                translator_comments = []
+                translator_comments = None
 
             translator_strings = [
                 comment[1] for comment in translator_comments
</pre><h3>Mutant 3208</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -87,7 +87,7 @@
                 translator_comments = []
 
             translator_strings = [
-                comment[1] for comment in translator_comments
+                comment[2] for comment in translator_comments
             ]
 
             if isinstance(code, compat.text_type):
</pre><h3>Mutant 3209</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -86,9 +86,7 @@
             ):
                 translator_comments = []
 
-            translator_strings = [
-                comment[1] for comment in translator_comments
-            ]
+            translator_strings = None
 
             if isinstance(code, compat.text_type):
                 code = code.encode(input_encoding, "backslashreplace")
</pre><h3>Mutant 3210</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -91,7 +91,7 @@
             ]
 
             if isinstance(code, compat.text_type):
-                code = code.encode(input_encoding, "backslashreplace")
+                code = code.encode(input_encoding, "XXbackslashreplaceXX")
 
             used_translator_comments = False
             # We add extra newline to work around a pybabel bug
</pre><h3>Mutant 3211</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -91,7 +91,7 @@
             ]
 
             if isinstance(code, compat.text_type):
-                code = code.encode(input_encoding, "backslashreplace")
+                code = None
 
             used_translator_comments = False
             # We add extra newline to work around a pybabel bug
</pre><h3>Mutant 3212</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -93,7 +93,7 @@
             if isinstance(code, compat.text_type):
                 code = code.encode(input_encoding, "backslashreplace")
 
-            used_translator_comments = False
+            used_translator_comments = True
             # We add extra newline to work around a pybabel bug
             # (see python-babel/babel#274, parse_encoding dies if the first
             # input string of the input is non-ascii)
</pre><h3>Mutant 3213</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -93,7 +93,7 @@
             if isinstance(code, compat.text_type):
                 code = code.encode(input_encoding, "backslashreplace")
 
-            used_translator_comments = False
+            used_translator_comments = None
             # We add extra newline to work around a pybabel bug
             # (see python-babel/babel#274, parse_encoding dies if the first
             # input string of the input is non-ascii)
</pre><h3>Mutant 3214</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -99,7 +99,7 @@
             # input string of the input is non-ascii)
             # Also, because we added it, we have to subtract one from
             # node.lineno
-            code = compat.byte_buffer(compat.b("\n") + code)
+            code = compat.byte_buffer(compat.b("XX\nXX") + code)
 
             for message in self.process_python(
                 code, node.lineno - 1, translator_strings
</pre><h3>Mutant 3215</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -99,7 +99,7 @@
             # input string of the input is non-ascii)
             # Also, because we added it, we have to subtract one from
             # node.lineno
-            code = compat.byte_buffer(compat.b("\n") + code)
+            code = compat.byte_buffer(compat.b("\n") - code)
 
             for message in self.process_python(
                 code, node.lineno - 1, translator_strings
</pre><h3>Mutant 3216</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -99,7 +99,7 @@
             # input string of the input is non-ascii)
             # Also, because we added it, we have to subtract one from
             # node.lineno
-            code = compat.byte_buffer(compat.b("\n") + code)
+            code = None
 
             for message in self.process_python(
                 code, node.lineno - 1, translator_strings
</pre><h3>Mutant 3217</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -102,7 +102,7 @@
             code = compat.byte_buffer(compat.b("\n") + code)
 
             for message in self.process_python(
-                code, node.lineno - 1, translator_strings
+                code, node.lineno + 1, translator_strings
             ):
                 yield message
                 used_translator_comments = True
</pre><h3>Mutant 3218</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -102,7 +102,7 @@
             code = compat.byte_buffer(compat.b("\n") + code)
 
             for message in self.process_python(
-                code, node.lineno - 1, translator_strings
+                code, node.lineno - 2, translator_strings
             ):
                 yield message
                 used_translator_comments = True
</pre><h3>Mutant 3219</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -105,7 +105,7 @@
                 code, node.lineno - 1, translator_strings
             ):
                 yield message
-                used_translator_comments = True
+                used_translator_comments = False
 
             if used_translator_comments:
                 translator_comments = []
</pre><h3>Mutant 3220</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -105,7 +105,7 @@
                 code, node.lineno - 1, translator_strings
             ):
                 yield message
-                used_translator_comments = True
+                used_translator_comments = None
 
             if used_translator_comments:
                 translator_comments = []
</pre><h3>Mutant 3221</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -108,7 +108,7 @@
                 used_translator_comments = True
 
             if used_translator_comments:
-                translator_comments = []
+                translator_comments = None
             in_translator_comments = False
 
             if child_nodes:
</pre><h3>Mutant 3222</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -109,7 +109,7 @@
 
             if used_translator_comments:
                 translator_comments = []
-            in_translator_comments = False
+            in_translator_comments = True
 
             if child_nodes:
                 for extracted in self.extract_nodes(child_nodes):
</pre><h3>Mutant 3223</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -109,7 +109,7 @@
 
             if used_translator_comments:
                 translator_comments = []
-            in_translator_comments = False
+            in_translator_comments = None
 
             if child_nodes:
                 for extracted in self.extract_nodes(child_nodes):
</pre><h3>Mutant 3224</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -115,7 +115,6 @@
                 for extracted in self.extract_nodes(child_nodes):
                     yield extracted
 
-    @staticmethod
     def _split_comment(lineno, comment):
         """Return the multiline comment at lineno split into a list of
         comment line numbers and the accompanying comment line"""
</pre><h3>Mutant 3225</h3><pre>--- mako/ext/extract.py
+++ mako/ext/extract.py
@@ -120,7 +120,7 @@
         """Return the multiline comment at lineno split into a list of
         comment line numbers and the accompanying comment line"""
         return [
-            (lineno + index, line)
+            (lineno - index, line)
             for index, line in enumerate(comment.splitlines())
         ]
 
</pre></body></html>